try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_gptengineer-app"]="17618321824302d6d31c39f"}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8891],{15365:(e,r,t)=>{t.d(r,{E$:()=>c,WW:()=>s,pc:()=>l});var a=t(95661),o=t(28717),n=t(19620);let i="lovable-admin-override",s=()=>{let{userData:e}=(0,o.ur)(),[r]=(0,a.useState)(()=>{let e=null;try{e=localStorage.getItem(i)}catch(e){return n.logging.error("Failed to get admin override from localStorage",{error:e}),null}if(e)try{return JSON.parse(e)}catch(e){n.logging.error("Failed to parse admin override from localStorage",{error:e}),localStorage.removeItem(i)}return null}),t=!!(null==e?void 0:e.is_admin);return!!t&&(null!==r?r:t)},l=e=>{null===e?localStorage.removeItem(i):localStorage.setItem(i,JSON.stringify(e)),window.location.reload()},c=()=>{let{userData:e}=(0,o.ur)();return!!(null==e?void 0:e.is_admin)}},28717:(e,r,t)=>{t.d(r,{OM:()=>u,W6:()=>m,ur:()=>_,vu:()=>d});var a=t(77145),o=t(81496),n=t(95661),i=t(40702),s=t(15365),l=t(35418),c=t(72632);let p=(0,n.createContext)(void 0),d=e=>{let{children:r}=e,[t,s]=(0,n.useState)(void 0),{authUser:c,authState:d}=(0,i.Z2)();return(0,n.useEffect)(()=>{var e,r;if("authenticated"!==d)return;let t=null!=(r=null==c?void 0:c.uid)?r:null==(e=l.auth.currentUser)?void 0:e.uid;if(!t)return;let a=(0,o.H9)(l.db,"users",t);return(0,o.aQ)(a,e=>{s(e.data())})},[c,d]),(0,a.jsx)(p.Provider,{value:{userData:t},children:r})},_=()=>{let e=(0,n.useContext)(p);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e},u=e=>{let{workspacePlan:r}=e,t=(0,s.WW)();return null!==r?!["free","inactive"].includes(r):t},m=e=>{let{workspacePlan:r}=e,t=(0,s.WW)(),{isBizOrEnterprisePlan:a}=(0,c.cb)(r);return null!==r?a:t}},36119:(e,r,t)=>{t.d(r,{H:()=>a});let a=e=>e.email_verified||"password"!==e.source_sign_in_provider},40702:(e,r,t)=>{t.d(r,{Nm:()=>_,OJ:()=>d,Z2:()=>p});var a=t(77145),o=t(13410),n=t(95661),i=t(53861),s=t(35418),l=t(19620);let c=(0,n.createContext)(void 0),p=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e},d=e=>{let{user:r,children:t}=e,[p,d]=(0,n.useState)(r?"authenticated":"idle"),[_,u]=(0,n.useState)(r),[m,y]=(0,n.useState)(void 0),g=(0,o.useRouter)();return(0,n.useEffect)(()=>{r&&r.idToken&&i.tokenManager.setServerIdToken(r.idToken)},[r]),(0,n.useEffect)(()=>{let e=!1,t=null;return(async function(){if(!e){if(!r){d("idle"),u(null),y(void 0);return}d("loading");try{let{auth:e}=await (0,s.n)(r.customToken,!0);t=e.onAuthStateChanged(e=>{e||(d("idle"),u(null),y(void 0))}),d("authenticated"),u(r),y(void 0)}catch(e){d("error"),y(e instanceof Error?e:Error(String(e))),l.logging.error("AuthProvider: Failed to initialize Firebase",{error:e,userId:null==r?void 0:r.uid})}}})().catch(e=>{l.logging.error("AuthProvider: Failed to initialize Firebase",{error:e,userId:null==r?void 0:r.uid})}),()=>{e=!0,t&&t()}},[r,g]),(0,a.jsx)(c.Provider,{value:{authState:p,authUser:_,authError:m,isAuthenticated:"authenticated"===p},children:t})},_=()=>{let{authUser:e}=p();return null==e?void 0:e.email}},49493:(e,r,t)=>{t.d(r,{$M:()=>d,Mu:()=>u,k9:()=>_});var a=t(77145),o=t(18502),n=t(95661),i=t(84510),s=t(40702),l=t(99989),c=t(36119);let p=(0,n.createContext)(null);function d(e){let{children:r}=e,t=(0,n.useRef)((0,i.vt)(e=>({workspaces:[],error:null,isLoading:!0,showCreateWorkspaceDialog:!1,setShowCreateWorkspaceDialog:r=>{e({showCreateWorkspaceDialog:r})}}))),{authUser:d}=(0,s.Z2)(),{data:_,error:u,isFetching:m}=(0,o.I)(l.y.workspaces({userId:null==d?void 0:d.uid,disabled:!d||!(0,c.H)(d)}));return(0,n.useEffect)(()=>{(null==_?void 0:_.workspaces)&&t.current.setState({workspaces:_.workspaces}),t.current.setState({isLoading:m})},[_,m]),(0,n.useEffect)(()=>{u&&t.current.setState({error:u})},[u]),(0,a.jsx)(p.Provider,{value:{store:t.current},children:r})}function _(){let e=(0,n.useContext)(p);if(!e)throw Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}function u(e){let{store:r}=_();if(!r)throw Error("useWorkspaceStore must be used within a WorkspaceProvider");return r(e)}},51573:(e,r,t)=>{t.d(r,{VL:()=>i,a4:()=>n});var a=t(76058),o=function(e){return e.FREE="free",e.INACTIVE="inactive",e.ENTERPRISE="enterprise",e}({}),n=function(e){return e.PRO_LEGACY="pro",e.PARTNER="partner",e.STARTER="starter",e.LAUNCH="launch",e.SCALE_1="scale_1",e.SCALE="scale",e.SCALE_3="scale_3",e.SCALE_4="scale_4",e.SCALE_5="scale_5",e.SCALE_6="scale_6",e.SCALE_7="scale_7",e}({});let i={...a.Mk,...a.WA,...n,...a.Sf,...o}},52597:(e,r,t)=>{t.d(r,{y:()=>u});var a=t(77145),o=t(69730),n=t(56024);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({xsmall:12,small:16,default:20,large:24,xlarge:32,"2xlarge":40})[e]},s=e=>{let{className:r,size:t,...i}=e;return(0,a.jsx)(o.A,{name:"progress_activity",className:(0,n.cn)("animate-spin",r),size:t,...i})},l=e=>{let{className:r,size:t,...i}=e;return(0,a.jsx)(o.A,{name:"progress_activity",className:(0,n.cn)("animate-spin",r),size:t,...i})},c=e=>{let{className:r,size:t,...i}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 rotate-180",children:(0,a.jsx)(o.A,{name:"progress_activity",className:(0,n.cn)("animate-spin",r,"text-foreground opacity-20"),size:t,...i})}),(0,a.jsx)(o.A,{name:"progress_activity",className:(0,n.cn)("relative animate-spin",r),size:t,...i})]})},p=e=>{let{size:r,...t}=e,o=i(r);return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",...t,children:[(0,a.jsx)("title",{children:"Loading..."}),(0,a.jsx)("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:(0,a.jsx)("animate",{id:"ellipsis1",begin:"0;ellipsis3.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:(0,a.jsx)("animate",{begin:"ellipsis1.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),(0,a.jsx)("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:(0,a.jsx)("animate",{id:"ellipsis3",begin:"ellipsis1.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})},d=e=>{let{size:r,...t}=e,o=i(r);return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 44 44",stroke:"currentColor",...t,children:[(0,a.jsx)("title",{children:"Loading..."}),(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2",children:[(0,a.jsxs)("circle",{cx:"22",cy:"22",r:"1",children:[(0,a.jsx)("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,a.jsx)("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]}),(0,a.jsxs)("circle",{cx:"22",cy:"22",r:"1",children:[(0,a.jsx)("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,a.jsx)("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]})]})]})},_=e=>{let{size:r,...t}=e,o=i(r);return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",...t,children:[(0,a.jsx)("title",{children:"Loading..."}),(0,a.jsx)("style",{children:"\n        .spinner-bar {\n          animation: spinner-bars-animation .8s linear infinite;\n          animation-delay: -.8s;\n        }\n        .spinner-bars-2 {\n          animation-delay: -.65s;\n        }\n        .spinner-bars-3 {\n          animation-delay: -0.5s;\n        }\n        @keyframes spinner-bars-animation {\n          0% {\n            y: 1px;\n            height: 22px;\n          }\n          93.75% {\n            y: 5px;\n            height: 14px;\n            opacity: 0.2;\n          }\n        }\n      "}),(0,a.jsx)("rect",{className:"spinner-bar",x:"1",y:"1",width:"6",height:"22",fill:"currentColor"}),(0,a.jsx)("rect",{className:"spinner-bar spinner-bars-2",x:"9",y:"1",width:"6",height:"22",fill:"currentColor"}),(0,a.jsx)("rect",{className:"spinner-bar spinner-bars-3",x:"17",y:"1",width:"6",height:"22",fill:"currentColor"})]})},u=e=>{let{variant:r="default",size:t,...o}=e;switch(r){case"default":return(0,a.jsx)(s,{size:t,...o});case"circle":return(0,a.jsx)(l,{size:t,...o});case"circle_filled":return(0,a.jsx)(c,{size:t,...o});case"ellipsis":return(0,a.jsx)(p,{size:t,...o});case"ring":return(0,a.jsx)(d,{size:t,...o});case"bars":return(0,a.jsx)(_,{size:t,...o})}}},53792:(e,r,t)=>{t.d(r,{E:()=>c,kX:()=>i,lV:()=>n,le:()=>p,mR:()=>l,pB:()=>s,tI:()=>o});var a=t(51573);let o="pro_",n="biz_",i={pro_1:{id:a.VL.PRO_1,pricing:{monthly:25,annual:21},limits:{monthly:100}},pro_2:{id:a.VL.PRO_2,pricing:{monthly:50,annual:42},limits:{monthly:200}},pro_3:{id:a.VL.PRO_3,pricing:{monthly:100,annual:84},limits:{monthly:400}},pro_4:{id:a.VL.PRO_4,pricing:{monthly:200,annual:167},limits:{monthly:800}},pro_5:{id:a.VL.PRO_5,pricing:{monthly:294,annual:245},limits:{monthly:1200}},pro_6:{id:a.VL.PRO_6,pricing:{monthly:480,annual:400},limits:{monthly:2e3}},pro_7:{id:a.VL.PRO_7,pricing:{monthly:705,annual:588},limits:{monthly:3e3}},pro_8:{id:a.VL.PRO_8,pricing:{monthly:920,annual:767},limits:{monthly:4e3}},pro_9:{id:a.VL.PRO_9,pricing:{monthly:1125,annual:938},limits:{monthly:5e3}},pro_10:{id:a.VL.PRO_10,pricing:{monthly:1688,annual:1407},limits:{monthly:7500}},pro_11:{id:a.VL.PRO_11,pricing:{monthly:2250,annual:1875},limits:{monthly:1e4}},biz_1:{id:a.VL.BIZ_1,pricing:{monthly:50,annual:42},limits:{monthly:100}},biz_2:{id:a.VL.BIZ_2,pricing:{monthly:100,annual:84},limits:{monthly:200}},biz_3:{id:a.VL.BIZ_3,pricing:{monthly:200,annual:167},limits:{monthly:400}},biz_4:{id:a.VL.BIZ_4,pricing:{monthly:400,annual:334},limits:{monthly:800}},biz_5:{id:a.VL.BIZ_5,pricing:{monthly:588,annual:490},limits:{monthly:1200}},biz_6:{id:a.VL.BIZ_6,pricing:{monthly:960,annual:800},limits:{monthly:2e3}},biz_7:{id:a.VL.BIZ_7,pricing:{monthly:1410,annual:1175},limits:{monthly:3e3}},biz_8:{id:a.VL.BIZ_8,pricing:{monthly:1840,annual:1534},limits:{monthly:4e3}},biz_9:{id:a.VL.BIZ_9,pricing:{monthly:2250,annual:1875},limits:{monthly:5e3}},biz_10:{id:a.VL.BIZ_10,pricing:{monthly:3300,annual:2750},limits:{monthly:7500}},biz_11:{id:a.VL.BIZ_11,pricing:{monthly:4300,annual:3584},limits:{monthly:1e4}},starter:{id:a.VL.STARTER,pricing:{monthly:20},limits:{monthly:100}},launch:{id:a.VL.LAUNCH,pricing:{monthly:50},limits:{monthly:250}},scale_1:{id:a.VL.SCALE_1,pricing:{monthly:100},limits:{monthly:500}},scale:{id:a.VL.SCALE,pricing:{monthly:200},limits:{monthly:1e3}},scale_3:{id:a.VL.SCALE_3,pricing:{monthly:294},limits:{monthly:1500}},scale_4:{id:a.VL.SCALE_4,pricing:{monthly:384},limits:{monthly:2e3}},scale_5:{id:a.VL.SCALE_5,pricing:{monthly:564},limits:{monthly:3e3}},scale_6:{id:a.VL.SCALE_6,pricing:{monthly:736},limits:{monthly:4e3}},scale_7:{id:a.VL.SCALE_7,pricing:{monthly:900},limits:{monthly:5e3}},pro:{id:a.VL.PRO_LEGACY,pricing:{monthly:19},limits:{monthly:0,daily:100}},partner:{id:a.VL.PARTNER,pricing:{monthly:0},limits:{monthly:0}},ambassador:{id:a.VL.AMBASSADOR,pricing:{monthly:10},limits:{monthly:0}},ktlo:{id:a.VL.KTLO,pricing:{monthly:15},limits:{monthly:0}},free:{id:a.VL.FREE,pricing:{monthly:0},limits:{monthly:0}},inactive:{id:a.VL.INACTIVE,pricing:{monthly:0},limits:{monthly:0}},enterprise:{id:a.VL.ENTERPRISE,pricing:{monthly:0},limits:{monthly:0}}},s=[a.VL.PRO_1,a.VL.PRO_2,a.VL.PRO_3,a.VL.PRO_4,a.VL.PRO_5,a.VL.PRO_6,a.VL.PRO_7,a.VL.PRO_8,a.VL.PRO_9,a.VL.PRO_10,a.VL.PRO_11],l=[a.VL.BIZ_1,a.VL.BIZ_2,a.VL.BIZ_3,a.VL.BIZ_4,a.VL.BIZ_5,a.VL.BIZ_6,a.VL.BIZ_7,a.VL.BIZ_8,a.VL.BIZ_9,a.VL.BIZ_10,a.VL.BIZ_11],c={free:0,inactive:0,ktlo:1,pro:2,legacy:2,ambassador:2,biz:3,enterprise:4},p=30},58058:(e,r,t)=>{t.d(r,{M:()=>a,P:()=>o});var a=function(e){return e.OWNER="owner",e.ADMIN="admin",e.WRITE="write",e.READ="read",e.NONE="none",e}({});let o={owner:"Owner",admin:"Admin",write:"Editor",read:"Viewer",none:"None"}},72632:(e,r,t)=>{t.d(r,{Bq:()=>y,LL:()=>O,RL:()=>s,TP:()=>_,_R:()=>d,cb:()=>l,e3:()=>u,h5:()=>P,jL:()=>i,m6:()=>c,my:()=>p,yQ:()=>m,yw:()=>g});var a=t(76058),o=t(53792),n=t(51573);let i=e=>{let r=o.kX[e.id];return"annual"===e.type&&void 0!==r.pricing.annual?r.pricing.annual:r.pricing.monthly},s=e=>o.kX[e].limits.monthly,l=e=>{let r=!!(null==e?void 0:e.startsWith(o.tI)),t=!!(null==e?void 0:e.startsWith(o.lV)),a="enterprise"===e,i="free"===e,s="inactive"===e,l="ambassador"===e,c="ktlo"===e,p=!!e&&Object.values(n.a4).includes(e),d=i||s;return{isProPlan:r,isBizPlan:t,isEnterprisePlan:a,isFreePlan:i,isInactivePlan:s,isLegacyPlan:p,isAmbassadorPlan:l,isLitePlan:c,isFreeOrInactivePlan:d,isBizOrEnterprisePlan:t||a,isPaidPlan:!d}},c=e=>{let{isProPlan:r,isBizPlan:t,isEnterprisePlan:a,isAmbassadorPlan:o,isLegacyPlan:n,isLitePlan:i}=l(e);if(r)return"pro";if(t)return"biz";if(a)return"enterprise";if(o)return"ambassador";if(n)return"legacy";else if(i)return"ktlo";else return"free"},p=(e,r)=>o.E[e]>=o.E[r],d=e=>{switch(c(e)){case"free":return"Free";case"inactive":return"Inactive";case"pro":return"Pro";case"enterprise":return"Enterprise";case"ktlo":return"Lite";case"biz":return"Business";case"ambassador":return"Ambassador";case"legacy":switch(e){case n.a4.PRO_LEGACY:return"Legacy Pro";case n.a4.STARTER:return"Starter";case n.a4.LAUNCH:return"Launch";case n.a4.PARTNER:return"Partner";case n.a4.SCALE:case n.a4.SCALE_1:case n.a4.SCALE_3:case n.a4.SCALE_4:case n.a4.SCALE_5:case n.a4.SCALE_6:case n.a4.SCALE_7:return"Scale"}return}},_=e=>{switch(e){case"pro":return"Pro";case"biz":return"Business";case"enterprise":return"Enterprise";case"ktlo":return"Lite";case"ambassador":return"Ambassador";case"free":case"legacy":return"Free";case"inactive":return"Inactive"}},u=(e,r)=>{let t=s(e),a="pro"===r?o.pB:o.mR,n=a.filter(e=>s(e)<t);return n.length>0?n:[a[0]]},m=(e,r)=>{let t=s(e),a="pro"===r?o.pB:o.mR,n=a.filter(e=>s(e)>=t);return n.length>0?n:[a[a.length-1]]},y=(e,r)=>{let t=s(e),a="pro"===r?o.pB:o.mR,n=a.filter(e=>s(e)>t);return n.length>0?n:[a[a.length-1]]},g=e=>y(e.id,"pro")[0],O=e=>l(e.id).isBizPlan?y(e.id,"biz")[0]:m(e.id,"biz")[0],P=(e,r)=>{let t=l(e);if(t.isLegacyPlan||t.isFreePlan||t.isInactivePlan||t.isEnterprisePlan)throw Error("Plan ".concat(e," is not available for purchase through checkout"));let o=a.y4[e];if(!o)throw Error("No Stripe configuration found for plan ".concat(e));return"annual"===r&&o.LOOKUP_KEYS.ANNUAL?o.LOOKUP_KEYS.ANNUAL:o.LOOKUP_KEYS.MONTHLY}},74507:(e,r,t)=>{t.d(r,{A5:()=>n,O3:()=>i,RF:()=>p,Yq:()=>d,eZ:()=>s,j6:()=>o,mk:()=>c,ss:()=>l});var a=t(58058);let o={OWNER:"owner",ADMIN:"admin",MEMBER:"member",VIEWER:"viewer",COLLABORATOR:"collaborator"},n=["initiated","awaiting_dns","active_provisioning","active","drifted","provisioning_failed","tombstoned"],i=["connect","buy"];var s=function(e){return e.FeatureBadgeVisibility="feature:badge-visibility",e.FeatureCustomDomains="feature:custom-domains",e.FeatureProjectVisibility="feature:project-visibility",e.ViewProject="project:view",e.EditProject="project:edit",e.ManageProjectSettings="project:settings:manage",e.DeleteProject="project:delete",e.TransferProject="project:transfer",e.DownloadProject="project:download",e.ViewProjectUsage="project:usage:view",e.EditProjectVisibility="project:visibility:edit",e.EditProjectBadge="project:badge:edit",e.DeployProject="project:deploy",e.ViewProjectFiles="project:files:view",e.EditProjectFiles="project:files:edit",e.RemixProject="project:remix",e.ViewProjectCollaborators="project:collaborators:view",e.AddProjectOwners="project:collaborators:add:owner",e.AddProjectAdmins="project:collaborators:add:admin",e.AddProjectEditors="project:collaborators:add:editor",e.AddProjectViewers="project:collaborators:add:viewer",e.RemoveProjectOwners="project:collaborators:remove:owner",e.RemoveProjectAdmins="project:collaborators:remove:admin",e.RemoveProjectEditors="project:collaborators:remove:editor",e.RemoveProjectViewers="project:collaborators:remove:viewer",e.ManageMagicCodes="project:collaborators:magic-codes:manage",e.ManageProjectDomains="project:domains:manage",e.DisconnectProjectSupabase="project:supabase:disconnect",e.ManageProjectGit="project:git:manage",e.ManageProjectIntegrations="project:integrations:manage",e.HireExpert="project:expert:hire",e.SubmitProjectFeedback="project:feedback:submit",e.ManageProjectBookmarks="project:bookmarks:manage",e.UpdateProjectPresence="project:presence:update",e.CreateWorkspaces="workspace:create",e.ViewWorkspace="workspace:view",e.LeaveWorkspace="workspace:leave",e.EditWorkspaceSettings="workspace:settings:edit",e.ViewWorkspaceUsage="workspace:usage:view",e.ManageWorkspacePlan="workspace:plan:manage",e.UpdateWorkspaceCreditLimit="workspace:credit-limit:update",e.ViewWorkspaceMembers="workspace:members:view",e.AddWorkspaceOwners="workspace:roles:add:owner",e.AddWorkspaceAdmins="workspace:roles:add:admin",e.AddWorkspaceEditors="workspace:roles:add:editor",e.AddWorkspaceViewers="workspace:roles:add:viewer",e.AddWorkspaceCollaborators="workspace:roles:add:collaborator",e.RemoveWorkspaceOwners="workspace:roles:remove:owner",e.RemoveWorkspaceAdmins="workspace:roles:remove:admin",e.RemoveWorkspaceEditors="workspace:roles:remove:editor",e.RemoveWorkspaceViewers="workspace:roles:remove:viewer",e.RemoveWorkspaceCollaborators="workspace:roles:remove:collaborator",e.ViewWorkspaceProjects="workspace:projects:view",e.CreateWorkspaceProjects="workspace:projects:create",e.ManageWorkspaceTemplates="workspace:templates:manage",e.ViewWorkspaceLibraries="workspace:libraries:view",e.ManageWorkspaceLibraries="workspace:libraries:manage",e.CreateFolders="workspace:folders:create",e.UpdateFolders="workspace:folders:update",e.DeleteFolders="workspace:folders:delete",e.AddProjectsToFolders="workspace:folders:projects:add",e.RemoveProjectsFromFolders="workspace:folders:projects:remove",e.ManageWorkspaceBilling="workspace:billing:manage",e.ManageWorkspaceGit="workspace:git:manage",e.ManageWorkspaceIntegrations="workspace:integrations:manage",e.ManageWorkspaceSupabase="workspace:supabase:manage",e.ManageWorkspaceIdentity="workspace:identity:manage",e.ManageBenchmarks="workspace:benchmarks:manage",e.ManageEvals="workspace:evals:manage",e.ManageInternalChat="workspace:internal-chat:manage",e.ManageAnalytics="workspace:analytics:manage",e.ManageFeaturedProjects="project:featured:manage",e.RemixProjectSnapshot="project:remix:snapshot",e.ManageProjectAnnotations="project:annotations:manage",e}({});let l=["workspace:roles:add:owner","workspace:roles:add:viewer","workspace:roles:add:editor","workspace:roles:add:admin","workspace:roles:add:collaborator"],c=(e,r,t)=>{if(r)return!1;switch(e){case"owner":return t.includes("workspace:roles:remove:owner");case"admin":return t.includes("workspace:roles:remove:admin");case"member":return t.includes("workspace:roles:remove:editor");case"viewer":return t.includes("workspace:roles:remove:viewer");case"collaborator":return t.includes("workspace:roles:remove:collaborator");default:return!1}},p=["project:collaborators:add:viewer","project:collaborators:add:editor","project:collaborators:add:admin","project:collaborators:add:owner"],d=(e,r,t)=>{if(e.id===r||e.access_level===a.M.OWNER)return!1;switch(e.access_level){case a.M.ADMIN:return t.includes("project:collaborators:remove:admin");case a.M.WRITE:return t.includes("project:collaborators:remove:editor");case a.M.READ:return t.includes("project:collaborators:remove:viewer");case a.M.NONE:default:return!1}}},76058:(e,r,t)=>{t.d(r,{G:()=>i,Mk:()=>a,Sf:()=>n,WA:()=>o,y4:()=>d});var a=function(e){return e.PRO_1="pro_1",e.PRO_2="pro_2",e.PRO_3="pro_3",e.PRO_4="pro_4",e.PRO_5="pro_5",e.PRO_6="pro_6",e.PRO_7="pro_7",e.PRO_8="pro_8",e.PRO_9="pro_9",e.PRO_10="pro_10",e.PRO_11="pro_11",e}({}),o=function(e){return e.BIZ_1="biz_1",e.BIZ_2="biz_2",e.BIZ_3="biz_3",e.BIZ_4="biz_4",e.BIZ_5="biz_5",e.BIZ_6="biz_6",e.BIZ_7="biz_7",e.BIZ_8="biz_8",e.BIZ_9="biz_9",e.BIZ_10="biz_10",e.BIZ_11="biz_11",e}({}),n=function(e){return e.AMBASSADOR="ambassador",e.KTLO="ktlo",e}({});let i={...a,...o,...n},s={[i.PRO_1]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_100",ANNUAL:"annual_pro_100"}},[i.PRO_2]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_200",ANNUAL:"annual_pro_200"}},[i.PRO_3]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_400",ANNUAL:"annual_pro_400"}},[i.PRO_4]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_800",ANNUAL:"annual_pro_800"}},[i.PRO_5]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_1200",ANNUAL:"annual_pro_1200"}},[i.PRO_6]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_2000",ANNUAL:"annual_pro_2000"}},[i.PRO_7]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_3000",ANNUAL:"annual_pro_3000"}},[i.PRO_8]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_4000",ANNUAL:"annual_pro_4000"}},[i.PRO_9]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_5000",ANNUAL:"annual_pro_5000"}},[i.PRO_10]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_7500",ANNUAL:"annual_pro_7500"}},[i.PRO_11]:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_10000",ANNUAL:"annual_pro_10000"}},[i.BIZ_1]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_100",ANNUAL:"annual_biz_100"}},[i.BIZ_2]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_200",ANNUAL:"annual_biz_200"}},[i.BIZ_3]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_400",ANNUAL:"annual_biz_400"}},[i.BIZ_4]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_800",ANNUAL:"annual_biz_800"}},[i.BIZ_5]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_1200",ANNUAL:"annual_biz_1200"}},[i.BIZ_6]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_2000",ANNUAL:"annual_biz_2000"}},[i.BIZ_7]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_3000",ANNUAL:"annual_biz_3000"}},[i.BIZ_8]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_4000",ANNUAL:"annual_biz_4000"}},[i.BIZ_9]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_5000",ANNUAL:"annual_biz_5000"}},[i.BIZ_10]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_7500",ANNUAL:"annual_biz_7500"}},[i.BIZ_11]:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_10000",ANNUAL:"annual_biz_10000"}},[i.AMBASSADOR]:{LOOKUP_KEYS:{MONTHLY:"ambassador"}},[i.KTLO]:{LOOKUP_KEYS:{MONTHLY:"ktlo"}}},l={[i.PRO_1]:{PRODUCT_ID:"prod_S5oQjcilSS4ESn"},[i.PRO_2]:{PRODUCT_ID:"prod_S5oRPy0Y0nPqxh"},[i.PRO_3]:{PRODUCT_ID:"prod_S5oSF3553G847f"},[i.PRO_4]:{PRODUCT_ID:"prod_S5oSgRrV0vy7YI"},[i.PRO_5]:{PRODUCT_ID:"prod_S5oSLOyTLvcqrO"},[i.PRO_6]:{PRODUCT_ID:"prod_S5oSMXlFglFbU2"},[i.PRO_7]:{PRODUCT_ID:"prod_S5oTauRvBgrspu"},[i.PRO_8]:{PRODUCT_ID:"prod_S5oTiUv0zSPGmh"},[i.PRO_9]:{PRODUCT_ID:"prod_S5oTiU22SV6og9"},[i.PRO_10]:{PRODUCT_ID:"prod_SWTJnANFP2q5KQ"},[i.PRO_11]:{PRODUCT_ID:"prod_SWTNJqORiQTX4R"},[i.BIZ_1]:{PRODUCT_ID:"prod_SbZXo59CXtE0wj"},[i.BIZ_2]:{PRODUCT_ID:"prod_SbZXneRP8c7KJm"},[i.BIZ_3]:{PRODUCT_ID:"prod_SbZXkGmJviKiX6"},[i.BIZ_4]:{PRODUCT_ID:"prod_SbZXH2K8Bz0PKC"},[i.BIZ_5]:{PRODUCT_ID:"prod_SbZXRjVRV7ne8t"},[i.BIZ_6]:{PRODUCT_ID:"prod_SbZXtUa38rzcQf"},[i.BIZ_7]:{PRODUCT_ID:"prod_SbZXfehYoiksvC"},[i.BIZ_8]:{PRODUCT_ID:"prod_SbZXSi2XWA4AP7"},[i.BIZ_9]:{PRODUCT_ID:"prod_SbZWN7CW4SAhtL"},[i.BIZ_10]:{PRODUCT_ID:"prod_SbZWXRhxsy9Wvb"},[i.BIZ_11]:{PRODUCT_ID:"prod_SbZWJrTBQHucUS"},[i.AMBASSADOR]:{PRODUCT_ID:"prod_SDynEklxf0t3WB"},[i.KTLO]:{PRODUCT_ID:"prod_SZolUf5wC0d4sK"}},c={[i.PRO_1]:{PRODUCT_ID:"prod_S5oQjcilSS4ESn"},[i.PRO_2]:{PRODUCT_ID:"prod_S5oRPy0Y0nPqxh"},[i.PRO_3]:{PRODUCT_ID:"prod_S5oSF3553G847f"},[i.PRO_4]:{PRODUCT_ID:"prod_S5oSgRrV0vy7YI"},[i.PRO_5]:{PRODUCT_ID:"prod_S5oSLOyTLvcqrO"},[i.PRO_6]:{PRODUCT_ID:"prod_S5oSMXlFglFbU2"},[i.PRO_7]:{PRODUCT_ID:"prod_S5oTauRvBgrspu"},[i.PRO_8]:{PRODUCT_ID:"prod_S5oTiUv0zSPGmh"},[i.PRO_9]:{PRODUCT_ID:"prod_S5oTiU22SV6og9"},[i.PRO_10]:{PRODUCT_ID:"prod_SWRQ0hD2isNpp1"},[i.PRO_11]:{PRODUCT_ID:"prod_SWRStvzbeYDmJD"},[i.BIZ_1]:{PRODUCT_ID:"prod_SbYXFAxIyB09mp"},[i.BIZ_2]:{PRODUCT_ID:"prod_SbYXjGWVPvAXCS"},[i.BIZ_3]:{PRODUCT_ID:"prod_SbYXolxrsvk3Xk"},[i.BIZ_4]:{PRODUCT_ID:"prod_SbYXmUIRvHBJ40"},[i.BIZ_5]:{PRODUCT_ID:"prod_SbYXUmPWMWi4U0"},[i.BIZ_6]:{PRODUCT_ID:"prod_SbYYu2eGuAyvKz"},[i.BIZ_7]:{PRODUCT_ID:"prod_SbYY3GfS4YOTO4"},[i.BIZ_8]:{PRODUCT_ID:"prod_SbYYf36dVe115Z"},[i.BIZ_9]:{PRODUCT_ID:"prod_SbYYUH7btROvOb"},[i.BIZ_10]:{PRODUCT_ID:"prod_SbYYrUOzaH282X"},[i.BIZ_11]:{PRODUCT_ID:"prod_SbYYQQu2QPCMR1"},[i.AMBASSADOR]:{PRODUCT_ID:"prod_SDhydCOswIvi9R"},[i.KTLO]:{PRODUCT_ID:"prod_SbdVRazdIOliCy"}},p=Object.fromEntries(Object.values(i).map(e=>[e,{...l[e],...s[e]}]));Object.fromEntries(Object.values(i).map(e=>[e,{...c[e],...s[e]}]));let d=p;if(!(Object.values({CREDITS:{PRODUCT_ID:"prod_PBz7dgcoojSzVk"},OLD_PRO:{PRODUCT_ID:"prod_OtayqnnNbMxjpg"},STARTER:{PRODUCT_ID:"prod_RATAhoODy1Kbsn"},LAUNCH:{PRODUCT_ID:"prod_RAT9OebuvgB9ur"},SCALE_1:{PRODUCT_ID:"prod_RM6vrOL5DeHYgr"},SCALE:{PRODUCT_ID:"prod_RATAg5DUEdbkr4"},SCALE_3:{PRODUCT_ID:"prod_RM6wsb37tx0R2i"},SCALE_4:{PRODUCT_ID:"prod_RM6wsXmA4a0acz"},SCALE_5:{PRODUCT_ID:"prod_RM6wwDaeC6NikJ"},SCALE_6:{PRODUCT_ID:"prod_RM6xlLog0ySaSu"},SCALE_7:{PRODUCT_ID:"prod_RM6x95NN4Uw4Ne"},TEAMS_1:{PRODUCT_ID:"prod_S5oTCHBFFBFgZ3"},TEAMS_2:{PRODUCT_ID:"prod_S5oUiCSNcoA56R"},TEAMS_3:{PRODUCT_ID:"prod_S5oVG7CmXeruty"},TEAMS_4:{PRODUCT_ID:"prod_S5oViB4D8NIX2p"},TEAMS_5:{PRODUCT_ID:"prod_S5oWev1RmfjFed"},TEAMS_6:{PRODUCT_ID:"prod_S5oW7eD0xBMztm"},TEAMS_7:{PRODUCT_ID:"prod_S5oWkHekmBL1Da"},TEAMS_8:{PRODUCT_ID:"prod_S5oWX70E3sf0TU"},TEAMS_9:{PRODUCT_ID:"prod_S5oX5HBjAjNUS0"},TEAMS_10:{PRODUCT_ID:"prod_S5oXrooBiOwMQm"},TEAMS_11:{PRODUCT_ID:"prod_S5oYHqcPavztUH"},...d}).every(e=>e.PRODUCT_ID)&&Object.values(d).every(e=>e.PRODUCT_ID)))throw Error("All stripe products must have a product id")},99989:(e,r,t)=>{t.d(r,{y:()=>u});var a=t(53789),o=t(72490),n=t(81496),i=t(63851),s=t(19620),l=t(69850),c=t(35418),p=t(51573);function d(e){return"string"==typeof e&&Object.values(p.VL).includes(e)}function _(e){d(e.plan)||(null==e?void 0:e.reauth)||(s.logging.error("Workspace contains invalid/outdated plan ID. Defaulting to FREE. Please contact support to update your plan.",{workspace_id:e.id,received_plan:e.plan}),e.plan=p.VL.FREE),e.plan_scheduled&&!d(e.plan_scheduled)&&(s.logging.error("Workspace contains invalid/outdated scheduled plan ID. Removing scheduled plan. Please contact support to update your plan.",{workspace_id:e.id,received_scheduled_plan:e.plan_scheduled}),e.plan_scheduled=void 0)}let u={detail:e=>{let{workspaceId:r,projectId:t}=e;return(0,a.j)({queryKey:l.workspaceKeys.detail(null!=r?r:""),queryFn:async()=>{if(!r)return{workspace:null,is_member:!1,current_member:null};let e=(0,i.getGoApi)(),a=await e.get(t?"/projects/".concat(t,"/workspace"):"/workspaces/".concat(r));return a.workspace&&_(a.workspace),a}})},totalProjects:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.totalProjects(r),queryFn:async()=>{let e=(0,n.P)((0,n.rJ)(c.db,"projects"),(0,n._M)("workspace_id","==",r));return(await (0,n.d_)(e)).data().count},enabled:!!r})},projects:e=>{let{workspaceId:r,userId:t,limit:n,isDraft:s=!1}=e;return(0,a.j)({queryKey:[...l.workspaceKeys.projects({workspaceId:null!=r?r:"",userId:t,limit:n,isDraft:s}),"starred-projects"],queryFn:async()=>{let e=(0,i.getGoApi)(),a=new URLSearchParams;t&&"all"!==t&&a.set("user_id",t),n&&a.set("limit",n.toString());let o=s?"/workspaces/".concat(r,"/projects/draft"):"/workspaces/".concat(r,"/projects"),l=a.toString()?"".concat(o,"?").concat(a.toString()):o;return await e.get(l)},staleTime:3e5,enabled:!!r,placeholderData:o.rX})},starredProjects:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:[...l.workspaceKeys.detail(null!=r?r:""),"starred-projects"],queryFn:async()=>{let e=(0,i.getGoApi)();return await e.get("/workspaces/".concat(r,"/starred-projects"))},staleTime:3e5,enabled:!!r})},workspaces:e=>{let{userId:r,disabled:t}=e;return(0,a.j)({queryKey:l.workspaceKeys.workspaces({userId:null!=r?r:""}),queryFn:async()=>{let e=(0,i.getGoApi)(),r=await e.get("/user/workspaces");return r.workspaces&&r.workspaces.forEach(_),r},enabled:!!r&&!t})},workspaceUsage:e=>{let{workspaceId:r,month:t,year:o}=e;return(0,a.j)({queryKey:l.workspaceKeys.workspaceUsage(r,t,o),queryFn:async()=>{let e=(0,i.getGoApi)();return await e.post("/workspaces/".concat(r,"/usage"),{month:t,year:o})}})},workspaceUserTotalUsage:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.workspaceUserTotalUsage(r),queryFn:async()=>{let e=(0,i.getGoApi)();return(await e.get("/workspaces/".concat(r,"/user-total-usage"))).user_usages},enabled:!!r})},workspaceGithubInstallations:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.workspaceGithubInstallations(r),queryFn:async()=>{let e=(0,i.getGoApi)();return await e.get("/workspaces/".concat(r,"/github-installations"))},enabled:!!r})},pendingWorkspaceInvites:()=>(0,a.j)({queryKey:l.workspaceKeys.pendingWorkspaceInvites(),queryFn:async()=>{let e=(0,i.getGoApi)();return(await e.get("/user/workspace-invitations")).invitations}}),projectAccessRequests:e=>(0,a.j)({queryKey:l.workspaceKeys.projectAccessRequests(null!=e?e:""),queryFn:async()=>{let r=(0,i.getGoApi)();return await r.get("/workspaces/".concat(e,"/project-access-requests"))},enabled:!!e}),referralCode:e=>{let{referralCode:r,workspaceId:t}=e;return(0,a.j)({queryKey:l.workspaceKeys.referralCode(t,r),queryFn:async()=>{if(r)return{referral_code:r};let e=(0,i.getGoApi)();return await e.post("/workspaces/".concat(t,"/referral-code"))}})},referralCodeUsage:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.referralCodeUsage(r),queryFn:async()=>{let e=(0,i.getGoApi)();return await e.get("/workspaces/".concat(r,"/referral-code-usage"))}})},templates:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.templates(r),queryFn:async()=>{let e=(0,i.getGoApi)();return await e.get("/workspaces/".concat(r,"/projects/templates"))},enabled:!!r})},workspaceMemberships:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.memberships(null!=r?r:""),refetchInterval:3e5,queryFn:async()=>(0,i.getGoApi)().get("/workspaces/".concat(r,"/memberships/search?limit=").concat(20)),enabled:!!r})},searchWorkspaceMemberships:e=>{let{workspaceId:r,params:t}=e;return(0,a.j)({queryKey:l.workspaceKeys.memberships(r,t),staleTime:3e5,queryFn:async()=>{let e=(0,i.getGoApi)(),a=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"q",t=new URLSearchParams;return e.query&&t.set(r,e.query),e.status&&"all"!==e.status&&t.set("status",e.status),e.roles&&e.roles.length>0&&t.set("roles",e.roles.join(",")),e.limit&&t.set("limit",e.limit.toString()),e.offset&&t.set("offset",e.offset.toString()),t}(t),o="/workspaces/".concat(r,"/memberships/search?").concat(a.toString());return await e.get(o)},enabled:!!r})},integrationsOAuthStatus:e=>{let{workspaceId:r,integrations:t}=e;return(0,a.j)({queryKey:l.workspaceKeys.integrationsOAuthStatus(r,t),queryFn:async e=>{let{queryKey:t}=e,a=(0,i.getGoApi)(),o=t[t.length-1].integrations.join(","),n="/workspaces/".concat(r,"/integrations/oauth?integrations=").concat(o);return await a.get(n)}})},integrationOAuthStatus:e=>{let{workspaceId:r,integrationName:t}=e;return(0,a.j)({queryKey:l.workspaceKeys.integrationOAuthStatus(r,t),queryFn:async()=>{let e=(0,i.getGoApi)(),a="/workspaces/".concat(r,"/integrations/").concat(t,"/oauth");return await e.get(a)}})},workspaceLovableCloudUsage:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.workspaceLovableCloudUsage(r),queryFn:async()=>{let e=(0,i.getGoApi)();return await e.get("/workspaces/".concat(r,"/lovable-cloud-monthly-usage"))},enabled:!!r})},lovableCloudProjectUsageBreakdown:e=>{let{workspaceId:r,limit:t,startAfter:o}=e;return(0,a.j)({queryKey:l.workspaceKeys.lovableCloudProjectUsageBreakdown(r,t,o),queryFn:async()=>{let e=(0,i.getGoApi)(),a=new URLSearchParams;t&&a.set("limit",t.toString()),o&&a.set("start_after",o);let n=a.toString()?"?".concat(a.toString()):"";return await e.get("/workspaces/".concat(r,"/lovable-cloud-project-usage-breakdown").concat(n))},enabled:!!r})},builderCount:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.builderCount(r),queryFn:async()=>{let e=(0,i.getGoApi)();return(await e.get("/workspaces/".concat(r,"/builder-count"))).builder_count},enabled:!!r})},autoTopup:e=>{let{workspaceId:r}=e;return(0,a.j)({queryKey:l.workspaceKeys.autoTopup(r),queryFn:async()=>{let e=(0,i.getGoApi)();return await e.get("/workspaces/".concat(r,"/balance/auto-topup"))},enabled:!!r})}}}}]);